<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: 'zh-TW' }}">

  <head>
    {% include head.html %}
    <link rel="icon" type="image/png" href="{{ '/assets/icons/warmycat.png' | relative_url }}">
    {% if site.google_analytics %}
      {% include google-analytics.html %}
    {% endif %}

    <style>
      /* 確保外層 wrapper 寬度足以容納側邊欄 */
      .wrapper {
        max-width: 1200px !important;
        margin-right: auto;
        margin-left: auto;
        padding-right: 20px;
        padding-left: 20px;
      }

      .page-layout {
        display: flex;
        flex-wrap: wrap;
        gap: 60px;
        justify-content: center;
      }

      /* 左側主內容：維持原本的 800px 閱讀寬度 */
      .main-content {
        flex: 0 0 800px;
        max-width: 800px;
        width: 100%;
      }

      /* 右側側邊欄 */
      .sidebar {
        flex: 1;
        min-width: 250px;
        max-width: 300px;
        margin-top: 20px;
      }

      .sidebar-sticky {
        position: -webkit-sticky;
        position: sticky;
        top: 40px;
      }

      /* --- 複刻您提供的「最新消息」標題風格 --- */
      .featured-title {
        font-size: 1.25rem;
        font-weight: 700;
        color: #2d5a27;
        margin-bottom: 1.5rem;
        border-left: 4px solid #9cdba2;
        padding-left: 12px;
        line-height: 1.2;
      }

      .featured-list {
        list-style: none;
        padding: 0;
        margin: 0;
      }

      /* --- 列表項目與分隔線設定 --- */
      .featured-list li {
        margin-bottom: 0;      /* 移除原本的下邊距，改用 padding */
        padding: 12px 16px;     /* 上下間距 12px，左邊縮排 16px */
        border-bottom: 1px solid #eee; /* 加入淡灰色細線 */
      }

      /* 最後一個項目不需要分隔線 */
      .featured-list li:last-child {
        border-bottom: none;
      }

      .featured-list a {
        text-decoration: none;
        color: #000000;         /* 連結文字為黑色 */
        font-size: 1.05rem;
        font-weight: 500;
        line-height: 1.4;
        transition: color 0.2s;
        display: block;        /* 讓點擊區域加大 */
      }

      .featured-list a:hover {
        color: #2d5a27;         /* 滑過時變深綠色 */
        text-decoration: none;  /* 因為有線條了，滑過時可以不用底線 */
      }

      /* 行動裝置適應 */
      @media (max-width: 1150px) {
        .main-content { flex: 1 1 auto; }
      }

      @media (max-width: 850px) {
        .page-layout { flex-direction: column; align-items: flex-start; }
        .main-content { max-width: 100%; }
        .sidebar { 
          max-width: 100%; 
          width: 100%; 
          order: 2; 
          margin-top: 50px;
          border-top: 1px solid #eee;
          padding-top: 30px;
        }
        .sidebar-sticky { position: static; }
      }
    </style>
  </head>

  <body>
    {% include header.html %}

    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        
        <div class="page-layout">
          
          <div class="main-content">
            {{ content }}
          </div>

          <aside class="sidebar">
            <div class="sidebar-sticky">
              
              <h2 class="featured-title">精選文章</h2>
              
              <ul class="featured-list">
                {% if site.data.featured %}
                  {% for item in site.data.featured %}
                    <li>
                      <a href="{{ item.url | relative_url }}">
                        {{ item.title | escape }}
                      </a>
                    </li>
                  {% endfor %}
                {% endif %}
              </ul>

            </div>
          </aside>

        </div>

      </div>
    </main>

    {% include footer.html %}
  </body>

</html>
