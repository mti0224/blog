<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: 'zh-TW' }}">

  <head>
    {% include head.html %}
    <link rel="icon" type="image/png" href="{{ '/assets/icons/warmycat.png' | relative_url }}">
    {% if site.google_analytics %}
      {% include google-analytics.html %}
    {% endif %}

      <style>
        /* --- 1. 全站寬度與 Header 對齊 --- */
        .site-header__inner, .wrapper {
          max-width: 1200px !important;
          margin: 0 auto;
          padding: 0 20px;
        }
  
        .site-header__inner {
          display: flex;
          align-items: center;
          justify-content: flex-start; /* 改為靠左對齊，以便精確控制順序 */
          padding: 10px 20px;
        }
  
        /* 首頁圖示 (大頭貼) 靠左 */
        .site-header__logo-link {
          display: flex;
          align-items: center;
          margin-right: 20px; /* 與搜尋欄的間距 */
        }
  
        /* 搜尋欄位緊跟在後 */
        .search-container {
          position: relative;
          flex: 0 1 300px;
        }
  
        /* --- 2. 右側按鈕區域 (社群圖示 + 漢堡包) --- */
        .header-actions {
          display: flex;
          align-items: center;
          gap: 5px; 
          margin-left: auto; /* 關鍵：將此群組推至最右側 */
        }
  
        .icon-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          width: 40px;
          height: 40px;
          border-radius: 50%;
          transition: background 0.2s;
        }
  
        .icon-btn:hover {
          background-color: rgba(0,0,0,0.05);
        }
  
        .icon-btn img {
          width: 24px;
          height: 24px;
        }
  
        /* --- 3. 漢堡包選單 (懸停展開) --- */
        .header-dropdown {
          position: relative;
          padding: 5px 0;
        }
  
        .dropdown-trigger {
          cursor: pointer;
          width: 40px;
          height: 40px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #828282;
          border-radius: 50%;
          transition: all 0.2s;
        }
  
        .header-dropdown:hover .dropdown-trigger {
          background-color: rgba(0,0,0,0.05);
          color: #2d5a27;
        }
  
        .header-dropdown:hover .dropdown-content {
          display: block;
          opacity: 1;
          visibility: visible;
          transform: translateY(0);
        }
  
        .dropdown-content {
          display: none;
          position: absolute;
          right: 0; /* 向左展開 */
          top: 100%;
          background-color: #ffffff;
          min-width: 200px;
          box-shadow: 0px 8px 16px rgba(0,0,0,0.1);
          z-index: 1000;
          border-radius: 12px;
          border: 1px solid #eee;
          overflow: hidden;
          opacity: 0;
          visibility: hidden;
          transform: translateY(10px);
          transition: all 0.3s ease;
        }
  
        .dropdown-content a {
          color: #333;
          padding: 12px 20px;
          text-decoration: none;
          display: block;
          font-size: 15px;
          transition: background 0.2s;
          border-bottom: 1px solid #f9f9f9;
        }
  
        .dropdown-content a:last-child { border-bottom: none; }
  
        .dropdown-content a:hover {
          background-color: #f0f7f0;
          color: #2d5a27;
        }
  
        /* --- 4. 雙欄佈局與側邊欄 (維持現有專業風格) --- */
        .page-layout { display: flex; flex-wrap: wrap; gap: 60px; justify-content: center; margin-top: 20px; }
        .main-content { flex: 0 0 800px; max-width: 800px; width: 100%; }
        .sidebar { flex: 1; min-width: 250px; max-width: 300px; margin-top: 20px; }
        .sidebar-sticky { position: sticky; top: 40px; }
        .featured-title { font-size: 1.25rem; font-weight: 700; color: #2d5a27; margin-bottom: 1.5rem; border-left: 4px solid #9cdba2; padding-left: 12px; line-height: 1.2; }
        .featured-list { list-style: none; padding: 0; margin: 0; }
        .featured-list li { padding: 12px 16px; border-bottom: 1px solid #eee; }
        .featured-list li:last-child { border-bottom: none; }
        .featured-list a { text-decoration: none; color: #000; font-size: 1.05rem; font-weight: 500; display: block; }
        .featured-list a:hover { color: #2d5a27; }
  
        @media (max-width: 1150px) { .main-content { flex: 1 1 auto; } }
        @media (max-width: 850px) {
          .page-layout { flex-direction: column; }
          .main-content, .sidebar { max-width: 100%; width: 100%; }
          .sidebar { order: 2; border-top: 1px solid #eee; padding-top: 30px; }
        }
      </style>
  </head>

  <body>
    {% include header.html %}

    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <div class="page-layout">
          <div class="main-content">
            {{ content }}
          </div>
          <aside class="sidebar">
            <div class="sidebar-sticky">
              <h2 class="featured-title">精選文章</h2>
              <ul class="featured-list">
                {% if site.data.featured %}
                  {% for item in site.data.featured %}
                    <li><a href="{{ item.url | relative_url }}">{{ item.title | escape }}</a></li>
                  {% endfor %}
                {% endif %}
              </ul>
            </div>
          </aside>
        </div>
      </div>
    </main>

    {% include footer.html %}
  </body>
</html>
